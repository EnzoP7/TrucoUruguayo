ActuÃ¡ como un arquitecto senior full-stack especializado en juegos online en tiempo real.

Vas a crear la base tÃ©cnica y estructural de un juego online de Truco Uruguayo, usando:

Next.js

TypeScript

Socket.IO

Backend y frontend en el mismo proyecto

ğŸ¯ Objetivo del juego

Soportar Truco Uruguayo en las modalidades:

1 vs 1

2 vs 2

3 vs 3

Siempre con 2 equipos, con 1 a 3 jugadores por equipo

ğŸ§  Reglas de arquitectura (OBLIGATORIAS)

Todo el estado del juego vive en el backend

El frontend solo envÃ­a intenciones

El backend valida turnos, cartas y cantos

El motor del juego NO debe asumir cantidad fija de jugadores

CÃ³digo simple, legible, sin sobre-ingenierÃ­a

ğŸ”Œ ComunicaciÃ³n

Usar Socket.IO

Eventos tipados en TypeScript

Uso de rooms para partidas

ğŸ§± Backend

Servidor Node.js custom dentro de Next.js

Un engine de Truco genÃ©rico, capaz de manejar:

Turnos rotativos

Cartas por jugador

Cantos (Truco, Retruco, Vale 4)

Puntaje por equipo

ğŸƒ LÃ³gica del Truco

Implementar:

Mazo uruguayo

Reglas correctas del Truco Uruguayo

ResoluciÃ³n de manos

Toda la lÃ³gica debe estar aislada en src/truco/

ğŸ§‘â€ğŸ’» Frontend

React (Next.js App Router)

Pantalla de lobby (crear/unirse a sala)

Pantalla de mesa de Truco

Renderizar el estado recibido del servidor

No implementar lÃ³gica de reglas en el cliente

ğŸš« NO hacer

No usar base de datos

No usar serverless ni edge functions

No confiar en el cliente

No hardcodear 1vs1

ğŸ“¦ Resultado esperado

Estructura de carpetas correcta

CÃ³digo base funcional

Engine extensible

Comentarios claros explicando decisiones importantes